<!DOCTYPE html>
<html class="site-page" lang="ru">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <title>Небольшая шпаргалка по Git и GitHub</title>
        <link href="css/styles.css" rel="stylesheet">
    </head>
    <body class="site-body">
        <header class="site-header">
            <h1 class="title">Алгоритм создания pull requests<br>с помощью терминала в VS Code.</h1>
        </header>
        <main class="site-main">
            <p class="description">
                
                <ol>
                    <li>Перво-наперво нужно убедиться в том что ты находишься в нужной ветке своего локального репозитория. Для этого нужно либо открыть терминал и посмотреть что написано после имени твоего компьютера или, еще проще, глянуть в нижний правый угол VS Code. Задача очень простая, сложность в том, что про это нужно просто не забыть.</li>
                    <li>Далее снова всё просто. Или просто смотрим в левую колонку VS Code в которой выбрана вкладка EXPLORER и видим там файлы помеченные буковками U (не отслеживается), M красного цвета (отслеживается, но не готов к коммиту) или M рыжего цвета (отслеживается и готов к коммиту). В твоем редакторе цвета могут отличаться, это зависит от установленной темы. <br> Или в терминале набираем команду <code>git status</code> и проверяешь там состояние файлов.<br>
                        Индексация производится с помощью команды <code>git add .</code> или команды <code>git add -A</code><br>Разница между этими командами - та что с точкою индексирует все файлы в своей папке, а та что с -A все файлы проекта. Так как в нашем случае это одно и тоже достаточно команды с точкою. </li>
                    <li>С этого пункта будет только пояснение как работать в терминале. Не потому что хочу что то утаить, а потому что сам не очень там разбирался что да как. Мне это просто лень.
                        После того как изменения в файлах проиндексированы их нужно закоммитить. Для этого в терминале набираем <br><code>git commit -m "Текст коммита"</code><br> Текст коммита должен быть осмысленный, чтоб через время, сделав <code>git log</code> можно было легко понять на каком этапе работы этот коммит сделан.<br>
                        <strong><span>Важно!!!</span> При создании коммита не забывай ставить флаг <code>-m</code>, иначе тебя может перенаправить во встроенный редактор. Вопрос о том как выйти из этого редактора один из самых задаваемых на сайте <i>stack-overflow</i>.</strong><br> Хорошая новость в том, что этот редактор тоже можно переопределить и сделать так, чтоб для описания коммита открывался твой любимый, например VS Code ) <br>
                        Чтобы заставить гит редактировать коммиты и прочие пояснения в VS Code нужно подправить конфигурацию. Если тебя устраивает то что при разрешении конфликтов слияния или если ты забудешь при коммите поставить <i>-m</i> будет открываться редактор в VS Code, в терминале нужно ввести <br><code>git config --global core.editor "code -w"</code> Если же ты предпочитаешь для этого другой редактор, то вместо <i>code</i> в команду нужно ввести псевдоним другого редактора. А если для конкретно этого проекта тебя VS Code полностью устраивает, но в другом он не нужен, то измени локальный файл конфигурации, то есть команда будет выглядеть так <br><code>git config --local core.editor "code -w"</code>
                    </li>
                    <li>Итак, изменения проиндексированы, коммит сделан. Переходим к синхронизации локального и удаленного репозитория. Для этого удаленный репозиторий должен уже существовать на одном из приспособленных для этого сайтов, в нашем случае на GitHub.
                        При отправке изменений есть один небольшой нюанс. Если такая ветка уже есть в удаленном репозитории, то достаточно набрать команду <code>git push</code> и чудо произойдет, локальная и удаленная копии станут абсолютно идентичными. Если такой ветки в удаленном репозитории нету, нужно использовать немного более длинную команду - <br><code>git push --set-upstream origin имя-новой-ветки</code><br> Это полная команда. Но есть её более короткий вариант, который делает абсолютно тоже самое <br><code>git push -u origin имя-новой-ветки</code><br> Длинную команду для отправки новой ветки надо давать только один раз, чтобы создать новую ветку в удаленном репозитории, в дальнейшем будет хватать команды<br><code>git push</code><br>
                    </li>
                    <li>Теперь переходи на свою страничку на GitHub. Если там в целевом репозитории появилась вверху плашка с предложением сделать <i>Pull Request</i>, то соглашаешься и жмешь зеленую кнопочку, далее, в том окошке в которое попадешь, жмешь на кнопку <i>Create pull request</i>. Если же что то пошло не так и плашки с приглашением создать пул реквест нету, можно сделать его самостоятельно. Заходишь в свой репозиторий, над названием проекта находишь надпись <i>Pull request</i>, жмешь на неё. В новом окошке жмешь на зеленую кнопку <i>New pull request</i>. Снова новое окошко. В нем на серой полоске (если у тебя светлая тема на GitHub) нужно ТОЛЬКО У ТВОЕГО репозитория выбрать ветку которую ты хочешь сравнить с основной веткою мастер-репозитория. А вот дальше я пока не помню, скорее всего появится кнопка <i>Create pull request</i>. После следующей домашки буду в курсе :)</li>
                    <li>После того как наставник примет твоё домашнее задание и смержит пул реквест с веткой master твоего мастер-репозитория тебе нужно влить эти изменения в твой локальный репозиторий. Для этого в своем проекте в терминале набери: старый вариант <code>git checkout master</code> или, продвигаемый последнее время как более понятный, новый <code>git switch master</code> Результат выполнения будет абсолютно одинаковый. Причина появления команды switch это то, что checkout слишком универсальная и с ее помощью выполняется ну уж очень много команд в git. <br>Находясь в ветке master, если ты делаешь первый pull с мастер-репозитория и не знаешь связан ли вообще твой локальный и мастер-репозиторий, введи в терминале команду <code>git branch -r</code>, она покажет все подключенные удаленные ветки. Если среди них есть <i>remotes/academy/master</i> все хорошо, если такой ветки нету, открывай в папке проекта файл <i>Contributing.md</i> и копируй из него команду на 27 строке, которая выглядит вот так<br><code>git remote add academy git@github.com:htmlacademy-javascript/1234567-kekstagram-31.git</code> только вместо 1234567 будет вписан твой <i>id</i> на <i>htmlacademy</i> и вводи эту команду в терминале. После этого можно вводить команду <code>git pull academy master</code> которая синхронизирует состояние мастер-репозитория и ветки master на твоем компьютере.</li>
                </ol>
                <p>Если коротко о работе с гитом на этом курсе. Тебе вообще ничего не нужно подтягивать ИЗ своего удаленного репозитория. Ты делаешь ветку в локальном, работаешь в ней, потом коммитишь и пушишь в свой удаленный репозиторий. Затем делаешь пул реквест и если всё нормально, преподаватель мёржит твою рабочую ветку из удалённого репозитория с твоим мастер-репозиторием. После этого тебе в локалке нужно переключиться на ветку master и сделать pull из мастер-репозитория командой git pull academy master.
                    За все время курса ты ничего не должен менять в ветке master вручную. Работаешь в рабочих ветках, изменения отправляешь на проверку, после их вливания в мастер-репозиторий затягиваешь изменения в свою локальную ветку master</p>
            </p>
            <p>В принципе всё, можно делать новую ветку и приступать к следующему заданию. Очень надеюсь что я ничего не перепутал, а ведь я могу :) </p>
            <h3>Дополнение.</h3>
            <p>Команда <code>git log</code> выводит полный цифровой хеш коммита и еще много чего. Со сременем, когда коммитов становится много, удобнее чтобы каждый коммит занимал всего одну строку и хеш отображался в сокращенном виде. Для этого нужно немного удлиннить команду до вот такой <code>git log --oneline</code> Да, команда стала длинее, но это того стоит. <br>
                Когда коммитов становится много они даже после вызова командою <code>git log --oneline</code> в окне терминала уже не помещаются, а то что поместилось заканчивается символом двоеточия. Если тебе интересны какие-то старые коммиты и ты хочешь к ним добраться, просто жми на стрелки вверх-вниз на клавиатуре. Когда вместо символа двоеточия появится слово END - дно достигнуто! Больше искать нечего. Если тебе не нужен больше список коммитов, либо дно достигнуто или найден нужный коммит, достаточно нажать на клавишу <i>q</i> и ты вернешь терминал в привычное состояние. Ну а если ты знаешь что нужный тебе коммит один из последних, можешь еще немного удлиннить команду <code>git log --oneline -5</code> и получишь последние пять коммитов.
            </p>
            <div class="footer"></div>
        </main>
    </body>
    </html>
    